<ng-container *ngIf="(appState$ | async) as appState" [ngSwitch]="appState.dataState">
  <ng-container class="bg-white" *ngSwitchCase="DataState.LOADING_STATE">
    <div class="col-md-12 text-center my-3">
      <div class="ball-clip-rotate">
        <div style="background-color: rgb(68, 64, 84);"></div>
      </div>
    </div>
  </ng-container>

  <ng-container *ngSwitchCase="DataState.LOADED_STATE">
    <div class="app-page-title">
      <div class="page-title-wrapper">
        <div class="page-title-heading">
          <div>
            <div class="page-title-head center-elem">
              <span class="d-inline-block pr-2">
              <i class="lnr-calendar-full icon-gradient bg-danger"></i> Séance du
              </span>
              <span class="d-inline-block">{{appState.appData.date | date: 'dd-MM-yyyy'}}</span>
            </div>
            <div class="page-title-subheading opacity-10">
              <nav class="" aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item">
                    <a>
                      <i aria-hidden="true" class="lnr-user"></i> Réceptioniste:
                      &nbsp; {{appState.appData.users.firstName}}
                    </a>
                  </li>
                  <li class="active breadcrumb-item" aria-current="page">
                    <a>
                      <i class="fa fa-calendar"></i>&nbsp;Session de {{appState.appData.session.name}}
                    </a>
                  </li>
                  <li class="active breadcrumb-item" aria-current="page">
                    <a>
                      <i class="fa fa-star"></i>&nbsp;Statut : <span
                      [ngClass]="statutSeance === 'TERMINEE' ? 'text-danger' : 'text-sucsess'"> {{appState.appData.status.name}}</span>
                    </a>
                  </li>
                  <li class="active breadcrumb-item" aria-current="page" >
                    <a>
                      <i class="fa fa-money-bill"></i>&nbsp;Solde : <span class="text-success"> {{appState.appData.solde}}&nbsp;€</span>
                    </a>
                  </li>
                </ol>
              </nav>
            </div>
          </div>
        </div>
        <div class="page-title-actions">
          <button *ngIf="appState.appData.status.name != 'TERMINEE'" class="btn btn-alternate mr-3"
                  data-toggle="tooltip" data-placement="left" title="nouveau bénéficiaire" (click)="open(benef)">+
            Bénéficiare
          </button>
          <button *ngIf="appState.appData.status.name != 'TERMINEE'" class="btn btn-alternate mr-3"
                  data-toggle="tooltip" data-placement="left" title="terminer la séance"
                  [disabled]="(isLoading$ | async)"
                  (click)="endSeance()">Clôturer la séance
          </button>
          <button class="btn btn-secondary mr-3" data-toggle="tooltip" data-placement="left"
                  title="Retourner à la page précédente" (click)="back()">Retour
          </button>
        </div>
      </div>
    </div>


  </ng-container>
  <ng-container class="bg-white" *ngSwitchCase="DataState.ERROR_STATE">
    <div class="col-md-12 text-center">
      <div class="text-danger">{{appState.error}}</div>
    </div>
  </ng-container>
</ng-container>

<div *ngIf="(benef$ | async) as benefState" [ngSwitch]="benefState.dataState">
  <div *ngSwitchCase="DataState.LOADING_STATE">
    <div class="ball-clip-rotate">
      <div style="background-color: #FFFFFF;"></div>
    </div>
  </div>
  <div *ngSwitchCase="DataState.LOADED_STATE">
    <div class="mbg-3 alert alert-success alert-dismissible fade show" role="alert" *ngIf="benefState.appData.totalElements > 0">
      <div *ngFor="let beneficiaire of benefState.appData.content">
        <div *ngIf="benefState.appData.totalElements == 1">
          <span class="pr-2">
        <i class="fa fa-user-circle"></i>
        </span>
          Bénéficiaire de le séance: {{beneficiaire.user.firstName | titlecase}} {{beneficiaire.user.lastName | titlecase}}

          <div class="pull-right">montant: {{beneficiaire.montant}} €
            <span *ngIf=" statutSeance != 'TERMINEE'" class="pl-5" style="cursor: pointer" title="modifier" (click)="openUpdateBenef(benef, beneficiaire)">
            <i class="fa fa-pen text-primary"></i>
          </span>
            <span *ngIf=" statutSeance != 'TERMINEE'" class="pl-2" style="cursor: pointer" title="supprimer" (click)="close(beneficiaire)">
<!--          <span class="pl-2" style="cursor: pointer" title="supprimer" (click)="open(delbenef); selectedPret = beneficiaire">-->
            <i class="fa fa-times-circle text-danger"></i>
          </span>
          </div>
        </div>
      </div>
        <div *ngIf="benefState.appData.totalElements > 1">
          <h6>Liste des bénéficiaires</h6>
          <ol>
            <li *ngFor="let beneficiaire of benefState.appData.content">
              <span class="pr-2">
        <i class="fa fa-user-circle"></i>
        </span>
              {{beneficiaire.user.firstName | titlecase}} {{beneficiaire.user.lastName | titlecase}}

              <div class="pull-right">montant: {{beneficiaire.montant}} €
                <span *ngIf=" statutSeance != 'TERMINEE'" class="pl-5" style="cursor: pointer" title="modifier" (click)="openUpdateBenef(benef, beneficiaire)">
            <i class="fa fa-pen text-primary"></i>
          </span>
                <span *ngIf=" statutSeance != 'TERMINEE'" class="pl-2" style="cursor: pointer" title="supprimer" (click)="close(beneficiaire)">
<!--          <span class="pl-2" style="cursor: pointer" title="supprimer" (click)="open(delbenef); selectedPret = beneficiaire">-->
            <i class="fa fa-times-circle text-danger"></i>
          </span>
              </div>
            </li>
          </ol>

        </div>



    </div>
  </div>
</div>


<!--<ul class="body-tabs body-tabs-layout tabs-animated body-tabs-animated nav">-->
<!--  <li class="nav-item">-->
<!--    <a role="tab" class="nav-link active" routerLink="">-->
<!--      <span>Cotisations</span>-->
<!--    </a>-->
<!--  </li>-->
<!--  <li class="nav-item">-->
<!--    <a role="tab" class="nav-link" href="dashboards-crm-variation.html">-->
<!--      <span>Disciplines</span>-->
<!--    </a>-->
<!--  </li>-->
<!--  <li class="nav-item">-->
<!--    <a role="tab" class="nav-link" href="dashboards-crm-variation.html">-->
<!--      <span>Amandes</span>-->
<!--    </a>-->
<!--  </li>-->
<!--  <li class="nav-item">-->
<!--    <a role="tab" class="nav-link" href="dashboards-crm-variation.html">-->
<!--      <span>Prêts</span>-->
<!--    </a>-->
<!--  </li>-->
<!--</ul>-->

<div class="row">
  <div class="col-md-6 col-xl-3" *ngIf="(soldeState$ | async) as soldeState" [ngSwitch]="soldeState.dataState">
    <div class="card mb-3 widget-content bg-night-fade">
      <div *ngSwitchCase="DataState.LOADING_STATE">
        <div class="ball-clip-rotate">
          <div style="background-color: #FFFFFF;"></div>
        </div>
      </div>
      <div class="widget-content-wrapper text-white" *ngSwitchCase="DataState.LOADED_STATE">
        <div class="widget-content-left">
          <div class="widget-heading">Solde Mangwa</div>
          <div class="widget-subheading">Montant de la caisse mangwa</div>
        </div>
        <div class="widget-content-right">
          <div class="widget-numbers text-white"><span>{{soldeState.appData}} €</span></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-6 col-xl-3" *ngIf="(soldeTontine$ | async) as soldeState" [ngSwitch]="soldeState.dataState">
    <div class="card mb-3 widget-content bg-arielle-smile">
      <div *ngSwitchCase="DataState.LOADING_STATE">
        <div class="ball-clip-rotate">
          <div style="background-color: #FFFFFF;"></div>
        </div>
      </div>
      <div class="widget-content-wrapper text-white">
        <div class="widget-content-left">
          <div class="widget-heading">Solde Tontine</div>
          <div class="widget-subheading">Montant de la caisse tontine</div>
        </div>
        <div class="widget-content-right">
          <div class="widget-numbers text-white"><span>{{soldeState.appData}} €</span></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-6 col-xl-3" *ngIf="(soldeProjet$ | async) as soldeState" [ngSwitch]="soldeState.dataState">
    <div class="card mb-3 widget-content bg-slick-carbon">
      <div *ngSwitchCase="DataState.LOADING_STATE">
        <div class="ball-clip-rotate">
          <div style="background-color: #FFFFFF;"></div>
        </div>
      </div>
      <div class="widget-content-wrapper text-white">
        <div class="widget-content-left">
          <div class="widget-heading">Solde Fond de solidarité</div>
          <div class="widget-subheading">Montant de la caisse fond de solidarité</div>
        </div>
        <div class="widget-content-right">
          <div class="widget-numbers text-white"><span>{{soldeState.appData}} €</span></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-6 col-xl-3" *ngIf="(soldeCaisse$ | async) as soldeState"  [ngSwitch]="soldeState.dataState">
    <div class="card mb-3 widget-content bg-plum-plate">
      <div *ngSwitchCase="DataState.LOADING_STATE">
        <div class="ball-clip-rotate">
          <div style="background-color: #FFFFFF;"></div>
        </div>
      </div>
      <div class="widget-content-wrapper text-white">
        <div class="widget-content-left">
          <div class="widget-heading">Solde Caisse</div>
          <div class="widget-subheading">Montant total en caisse adeli</div>
        </div>
        <div class="widget-content-right">
          <div class="widget-numbers text-white"><span>{{soldeState.appData}} €</span></div>
        </div>
      </div>
    </div>
  </div>
  <!--  <div class="d-xl-none d-lg-block col-md-6 col-xl-4">-->
  <!--    <div class="card mb-3 widget-content bg-premium-dark">-->
  <!--      <div class="widget-content-wrapper text-white">-->
  <!--        <div class="widget-content-left">-->
  <!--          <div class="widget-heading">Products Sold</div>-->
  <!--          <div class="widget-subheading">Revenue streams</div>-->
  <!--        </div>-->
  <!--        <div class="widget-content-right">-->
  <!--          <div class="widget-numbers text-warning"><span>$14M</span></div>-->
  <!--        </div>-->
  <!--      </div>-->
  <!--    </div>-->
  <!--  </div>-->
</div>

<div class="row">
  <div class="col-md-12">
    <div class="main-card mb-3 card " id="htmlData">
      <div class="card-header">
        Liste des cotisations
        <div class="btn-actions-pane-right">
          <div class="btn-sm">
            <button *ngIf="statutSeance != 'TERMINEE'" class="btn btn-primary mr-3" data-toggle="tooltip"
                    data-placement="left" title="nouvelles cotisations" (click)="open(cotisation)">Cotisations
            </button>
            <!--            <input type="date" placeholder="Rechercher date" [(ngModel)]="date" class="form-control form-control-sm mr-3">-->
            <!--            <input type="text" placeholder="Rechercher ref commande" [(ngModel)]="internalRef" class="form-control form-control-sm mr-3">-->
          </div>
        </div>
      </div>
      <ng-container *ngIf="(cotisation$ | async) as cotisation" [ngSwitch]="cotisation.dataState">
        <ng-container *ngSwitchCase="DataState.LOADING_STATE">
          <div class="col-md-12 text-center my-3">
            <div class="ball-clip-rotate">
              <div style="background-color: rgb(68, 64, 84);"></div>
            </div>
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="DataState.LOADED_STATE">
          <div class="table-responsive">
            <table class="align-middle mb-0 table table-sm table-borderless table-hover" id="element-pannes">
              <thead>
              <tr>
                <th class="">Ref#</th>
                <th class="">Membre</th>
                <th class="">Montant</th>
                <th class="">Description</th>
                <th class="">Transaction</th>
                <th class="">Date de création</th>
                <th class="">Date de modification</th>
              </tr>
              </thead>
              <tbody>
              <tr
                *ngFor="let cotisation of cotisation.appData.content | paginate: { id: 'cotisation', itemsPerPage: size, currentPage: page, totalItems: cotisation.appData.totalElements}; let i = index">
                <td class="text-left">{{i + 1}}</td>
                <td class="text-left">{{cotisation.user.firstName | titlecase}}
                  &nbsp;{{cotisation.user.lastName | titlecase}}</td>
                <!--                <td class="text-left" >{{cotisation.montant }} €</td>-->
                <td class="mb-2 mr-2 font-weight-bold"
                    [ngClass]="cotisation.typeTransaction.name === 'DEPOT' || cotisation.typeTransaction.name === 'REMBOURSEMENT' ? 'text-success' : 'text-danger'">
                  <span>
                    <i class="fa"
                       [ngClass]="cotisation.typeTransaction.name === 'DEPOT' || cotisation.typeTransaction.name === 'REMBOURSEMENT' ? 'fa-arrow-up' : 'fa-arrow-down'"></i>&nbsp;
                    {{cotisation.montant | number: '1.2-2'}}&nbsp;€</span>
                </td>
                <td class="text-left">{{cotisation.description }}</td>
                <td class="text-left">
                  <span class="badge"
                        [ngClass]="cotisation.typeTransaction.name === 'DEPOT' || cotisation.typeTransaction.name === 'REMBOURSEMENT' ? 'badge-success' : 'badge-danger'">
                    {{cotisation.typeTransaction.name }}
                  </span>
                </td>
                <td class="text-left">{{cotisation.createdAt | date: 'dd/MM/yyyy à HH:mm'}}</td>
                <td class="text-left">{{cotisation.updatedAt | date: 'dd/MM/yyyy à HH:mm'}}</td>
              </tr>

              </tbody>

            </table>
            <div class="text-center">
              <p *ngIf="cotisation.appData.content.length == 0" style="color: grey; font-size: 1.8rem;" class="mx-auto">
                Aucune cotisation trouvée !</p>
            </div>
            <div class="card-footer">
              <div class="btn-actions-pane-left">
                <div role="group" class="btn-group-sm btn-group">
                  Total : &nbsp;<b>{{ cotisation.appData.totalElements }} </b>
                </div>
              </div>
              <div class="btn-actions-pane-right">
                <div role="group" class="btn-group-sm btn-group">
                  <pagination-controls
                    id="cotisation"
                    previousLabel="Précédent"
                    nextLabel="Suivant"
                    (pageChange)="pageChange($event)"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-container class="bg-white" *ngSwitchCase="DataState.ERROR_STATE">
          <div class="col-md-12 text-center">
            <div class="text-danger">{{cotisation.error}}</div>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="main-card mb-3 card " id="htmlData">
      <div class="card-header">
        Liste des amandes
        <div class="btn-actions-pane-right">
          <div class="btn-sm">
            <button *ngIf="statutSeance != 'TERMINEE'" class="btn btn-primary mr-3" data-toggle="tooltip"
                    data-placement="left" title="nouvelle amande" (click)="open(amande)">+ Amande
            </button>
            <!--            <input type="date" placeholder="Rechercher date" [(ngModel)]="date" class="form-control form-control-sm mr-3">-->
            <!--            <input type="text" placeholder="Rechercher ref commande" [(ngModel)]="internalRef" class="form-control form-control-sm mr-3">-->
          </div>
        </div>
      </div>
      <ng-container *ngIf="(amande$ | async) as amandes" [ngSwitch]="amandes.dataState">
        <ng-container *ngSwitchCase="DataState.LOADING_STATE">
          <div class="col-md-12 text-center my-3">
            <div class="ball-clip-rotate">
              <div style="background-color: rgb(68, 64, 84);"></div>
            </div>
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="DataState.LOADED_STATE">
          <div class="table-responsive">
            <table class="align-middle mb-0 table table-sm table-borderless table-hover" id="element-pannes">
              <thead>
              <tr>
                <th class="">Ref#</th>
                <th class="">Membre</th>
                <th class="">Montant</th>
                <th class="">Description</th>
                <th class="">Transaction</th>
                <th class="">Date de création</th>
                <th class="" *ngIf=" statutSeance != 'TERMINEE'">Action</th>
              </tr>
              </thead>
              <tbody>
              <tr
                *ngFor="let amandes of amandes.appData.content | paginate: { id: 'amande', itemsPerPage: size, currentPage: page, totalItems: amandes.appData.totalElements}; let i = index">
                <td class="text-left">{{i + 1}}</td>
                <td class="text-left">{{amandes.user.firstName | titlecase}} {{amandes.user.lastName | titlecase}}</td>
<!--                <td class="text-left">{{amandes.montant }} €</td>-->
                <td  class="text-left font-weight-bold" [ngClass]="amandes.typeTransaction.name == 'DEPOT' ? 'text-success' : 'text-warning'">
                  <span><i class="fa " [ngClass]="amandes.typeTransaction.name == 'DEPOT' ? 'fa-arrow-up' : 'fa-minus'"></i>&nbsp;{{amandes.montant | number: '1.2-2'}}&nbsp;€</span>
                </td>
                <td class="text-left">{{amandes.motif }}</td>
                <td class="text-left">
                  <span class="badge " [ngClass]="amandes.typeTransaction.name == 'DEPOT' ? 'badge-success' : 'badge-warning'">
                    {{amandes.typeTransaction.name == 'DEPOT' ? 'PAYEE' : 'NON PAYEE'}}&nbsp;
                  </span>
<!--                  {{amandes.typeTransaction.name }}</td>-->
                <td class="text-left">{{amandes.createdAt | date: 'dd/MM/yyyy à hh:mm'}}</td>
                <td class="text-left" *ngIf=" statutSeance != 'TERMINEE'">
<!--                  <span class="btn btn-sm btn-primary mr-2" (click)="openUpdateAmande(amande, amandes)">-->
<!--                    <i class="pe-7s-eyedropper" title="modifier"></i>-->
<!--                  </span>-->
<!--                  <span class="btn btn-sm btn-danger" (click)="closeAmande(amandes)">-->
<!--                    <i class="pe-7s-trash" title="consulter"></i>-->
<!--                  </span>-->

                  <span class="" style="cursor: pointer" title="modifier" (click)="openUpdateAmande(amande, amandes)">
                    <i class="fa fa-pen text-primary"></i>
                  </span>
                  <span class="pl-3" style="cursor: pointer" title="supprimer" (click)="closeAmande(amandes)">
                    <i class="fa fa-times-circle text-danger"></i>
                  </span>

                </td>
              </tr>

              </tbody>

            </table>
            <div class="text-center">
              <p *ngIf="amandes.appData.content.length == 0" style="color: grey; font-size: 1.8rem;" class="mx-auto">
                Aucune amande trouvée !</p>
            </div>
            <div class="card-footer">
              <div class="btn-actions-pane-left">
                <div role="group" class="btn-group-sm btn-group">
                  Total : &nbsp;<b>{{ amandes.appData.totalElements }} </b>
                </div>
              </div>
              <div class="btn-actions-pane-right">
                <div role="group" class="btn-group-sm btn-group">
                  <pagination-controls
                    id="amande"
                    previousLabel="Précédent"
                    nextLabel="Suivant"
                    (pageChange)="pageChangeAmande($event)"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-container class="bg-white" *ngSwitchCase="DataState.ERROR_STATE">
          <div class="col-md-12 text-center">
            <div class="text-danger">{{amandes.error}}</div>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>
  <div class="col-md-6">
    <div class="main-card mb-3 card " id="htmlData">
      <div class="card-header">
        Fond Projet
        <div class="btn-actions-pane-right">
          <div class="btn-sm">
            <button *ngIf="statutSeance != 'TERMINEE'" class="btn btn-primary mr-3" data-toggle="tooltip"
                    data-placement="left" title="nouvelle discipline" (click)="open(projet)">+ contribution
            </button>
          </div>
        </div>
      </div>
      <ng-container *ngIf="(projet$ | async) as discipline" [ngSwitch]="discipline.dataState">
        <ng-container *ngSwitchCase="DataState.LOADING_STATE">
          <div class="col-md-12 text-center my-3">
            <div class="ball-clip-rotate">
              <div style="background-color: rgb(68, 64, 84);"></div>
            </div>
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="DataState.LOADED_STATE">
          <div class="table-responsive">
            <table class="align-middle mb-0 table table-sm table-borderless table-hover" id="element-pannes">
              <thead>
              <tr>
                <th class="">Membre</th>
                <th class="">Montant</th>
                <th class="">Type</th>
                <th class="">Date de création</th>
                <th class="" *ngIf=" statutSeance != 'TERMINEE'">Action</th>
              </tr>
              </thead>
              <tbody>
              <tr
                *ngFor="let discipline of discipline.appData.content | paginate: { id: 'discipline', itemsPerPage: size, currentPage: page, totalItems: discipline.appData.totalElements}; let i = index">
                <td class="text-left">{{discipline.user.firstName | titlecase}} {{discipline.user.lastName | titlecase}}</td>
                <td class="mb-2 mr-2 font-weight-bold"
                    [ngClass]="discipline.typeTransaction.name === 'DEPOT' || discipline.typeTransaction.name === 'REMBOURSEMENT' ? 'text-success' : 'text-danger'">
                  <span>
                    <i class="fa"
                       [ngClass]="discipline.typeTransaction.name === 'DEPOT' || discipline.typeTransaction.name === 'REMBOURSEMENT' ? 'fa-arrow-up' : 'fa-arrow-down'"></i>&nbsp;
                    {{discipline.montant | number: '1.2-2'}}&nbsp;€</span>
                </td>
                <td class="text-left">
                  <span class="badge"
                        [ngClass]="discipline.typeTransaction.name === 'DEPOT' || discipline.typeTransaction.name === 'REMBOURSEMENT' ? 'badge-success' : 'badge-danger'">
                    {{discipline.typeTransaction.name }}
                  </span>
                </td>
<!--                <td class="text-left">{{discipline.montant | number}}</td>-->
<!--                <td class="text-left">{{discipline.typeTransaction.name}}</td>-->
                <td class="text-left">{{discipline.createdAt | date: 'dd/MM/yyyy à hh:mm'}}</td>
                <!--                <td class="text-left" >  </td>-->
                <td class="text-left" *ngIf=" statutSeance != 'TERMINEE'">
                  <span class="" style="cursor: pointer" title="modifier" (click)="openUpdateProjet(projet, discipline)">
                    <i class="fa fa-pen text-primary"></i>
                  </span>
                  <span class="pl-3" style="cursor: pointer" title="supprimer" (click)="closeProjet(discipline)">
                    <i class="fa fa-times-circle text-danger"></i>
                  </span>
                </td>
              </tr>

              </tbody>

            </table>
<!--            <table class="align-middle mb-0 table table-sm table-borderless table-hover">-->
<!--              <thead>-->
<!--              <tr>-->
<!--                <th>#</th>-->
<!--                <th>Date</th>-->
<!--                <th>Membre</th>-->
<!--                <th>Montant</th>-->
<!--                <th>Motif</th>-->
<!--                <th>Type de transaction</th>-->
<!--                <th>Date création</th>-->
<!--                <th>Action</th>-->
<!--              </tr>-->
<!--              </thead>-->
<!--              <tbody-->
<!--                *ngFor="let mangwa of appState.appData.content | paginate: { id: 'mangwa', itemsPerPage: appState.appData.size, currentPage: page, totalItems: appState.appData.totalElements }; let i = index">-->
<!--              <tr>-->
<!--                <td>{{i + 1}}</td>-->
<!--                <td>{{mangwa.date |date: 'dd-MM-yyyy'}}</td>-->
<!--                <td>{{mangwa.user.firstName | titlecase}}&nbsp;{{mangwa.user.lastName | titlecase}}</td>-->
<!--                <td class="mb-2 mr-2 font-weight-bold" [ngClass]="mangwa.typeTransaction.name == 'DEPOT' ? 'text-success' : 'text-danger'">-->
<!--                  <span><i class="fa" [ngClass]="mangwa.typeTransaction.name == 'DEPOT' ? 'fa-arrow-up' : 'fa-arrow-down'"></i>&nbsp;{{mangwa.montant | number: '1.2-2'}}&nbsp;€</span>-->
<!--                </td>-->
<!--                <td>{{mangwa.motif}}</td>-->
<!--                <td>-->
<!--                  <span class="badge "-->
<!--                        [ngClass]="mangwa.typeTransaction.name == 'DEPOT' ? 'badge-success' : 'badge-danger'">-->
<!--                    {{mangwa.typeTransaction.name}}&nbsp;-->
<!--                  </span>-->
<!--                </td>-->
<!--                <td>-->
<!--                  {{mangwa.createdAt | date: 'dd-MM-yyyy HH:mm'}}-->
<!--                </td>-->
<!--                <td></td>-->
<!--            </table>-->
            <div class="text-center">
              <p *ngIf="discipline.appData.content.length == 0" style="color: grey; font-size: 1.8rem;" class="mx-auto">
                Aucune discipline trouvée !</p>
            </div>
            <div class="card-footer">
              <div class="btn-actions-pane-left">
                <div role="group" class="btn-group-sm btn-group">
                  Total : &nbsp;<b>{{ discipline.appData.totalElements }} </b>
                </div>
              </div>
              <div class="btn-actions-pane-right">
                <div role="group" class="btn-group-sm btn-group">
                  <pagination-controls
                    id="discipline"
                    previousLabel="Précédent"
                    nextLabel="Suivant"
                    (pageChange)="pageChangeDiscipline($event)"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-container class="bg-white" *ngSwitchCase="DataState.ERROR_STATE">
          <div class="col-md-12 text-center">
            <div class="text-danger">{{discipline.error}}</div>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>
  <div class="col-md-12">
    <div class="main-card mb-3 card " id="htmlData">
      <div class="card-header">
        Liste de prêts en cours
        <div class="btn-actions-pane-right">
          <div class="btn-sm">
            <button *ngIf="statutSeance != 'TERMINEE'" class="btn btn-primary mr-3" data-toggle="tooltip"
                    data-placement="left" title="nouvelle discipline" (click)="open(prets)">+ Prêt
            </button>
          </div>
        </div>
      </div>
      <ng-container *ngIf="(pret$ | async) as pret" [ngSwitch]="pret.dataState">
        <ng-container *ngSwitchCase="DataState.LOADING_STATE">
          <div class="col-md-12 text-center my-3">
            <div class="ball-clip-rotate">
              <div style="background-color: rgb(68, 64, 84);"></div>
            </div>
          </div>
        </ng-container>
        <ng-container *ngSwitchCase="DataState.LOADED_STATE">
          <div class="table-responsive">
            <table class="align-middle mb-0 table table-sm table-borderless table-hover" id="element-pannes">
              <thead>
              <tr>
                <th class="">Ref#</th>
                <th>Date</th>
                <th>Membre</th>
                <th>Montant Preté</th>
                <th>Montant Remboursé</th>
                <th>Date de Remboursement</th>
                <th>Type de transaction</th>
                <th>Statut</th>
                <th>Date de création</th>
                <th>Date de modification</th>
                <th class="text-center" *ngIf="statutSeance != 'TERMINEE'">Action</th>
              </tr>
              </thead>
              <tbody>
              <tr
                *ngFor="let pret of pret.appData.content | paginate: { id: 'pret', itemsPerPage: size, currentPage: page, totalItems: pret.appData.totalElements}; let i = index">
                <td class="text-left">{{i + 1}}</td>
                <td>{{pret.date }}</td>
                <td>{{pret.user.firstName | titlecase}} {{pret.user.lastName}}</td>
                <td>{{pret.montant_prete}}&nbsp;€</td>
                <td>{{pret.montant_rembourse}}&nbsp;€</td>
                <td>{{pret.dateRemboursement | date: 'dd-MM-yyyy'}}</td>
                <td>{{pret.typeTransaction.name}}</td>
                <td>{{pret.statutPret?.name}}</td>
                <td>{{pret.createdAt | date: 'dd-MM-yyyy à HH:mm'}}</td>
                <td>{{pret.updatedAt | date: 'dd-MM-yyyy à HH:mm'}}</td>
                <td *ngIf=" statutSeance != 'TERMINEE'">
<!--                  <button class="btn btn-sm btn-secondary mr-2" data-toggle="tooltip" title="détails de la séance">-->
<!--                    <i class="pe-7s-pen"></i>-->
<!--                    modifier-->
<!--                  </button>-->
<!--                  <button class="btn btn-sm btn-primary mr-2"-->
<!--                          *ngIf="pret.typeTransaction.name === 'PRET'" data-toggle="tooltip" title="rembourser le prêt">-->
<!--                    <i class="pe-7s-note"></i>-->
<!--                    rembourser-->
<!--                  </button>-->
<!--                  <button class="btn btn-sm btn-danger mr-2"-->
<!--                          data-toggle="tooltip" title="supprimer le prêt">-->
<!--                    <i class="pe-7s-trash"></i>-->
<!--                    supprimer-->
<!--                  </button>-->

                  <span *ngIf="(pret.date == dateSeance)"  class="" style="cursor: pointer" title="modifier" (click)="openUpdatePret(prets, pret)">
                    <i class="fa fa-pen text-primary"></i>
                  </span>
                  <span *ngIf="(pret.date == dateSeance)" class="pl-3" style="cursor: pointer" title="supprimer" (click)="closePret(pret)">
                    <i class="fa fa-times-circle text-danger"></i>
                  </span>
                  <span class="pl-3" style="cursor: pointer" title="rembourser" (click)="openRembourserPret(rembp, pret)">
                    <i class="fa fa-cash-register text-success"></i>
                  </span>
                </td>
              </tr>

              </tbody>

            </table>
            <div class="text-center">
              <p *ngIf="pret.appData.content.length == 0" style="color: grey; font-size: 1.8rem;" class="mx-auto">Aucun
                prêt trouvé !</p>
            </div>
            <div class="card-footer">
              <div class="btn-actions-pane-left">
                <div role="group" class="btn-group-sm btn-group">
                  Total : &nbsp;<b>{{ pret.appData.totalElements }} </b>
                </div>
              </div>
              <div class="btn-actions-pane-right">
                <div role="group" class="btn-group-sm btn-group">
                  <pagination-controls
                    id="pret"
                    previousLabel="Précédent"
                    nextLabel="Suivant"
                    (pageChange)="pageChangePret($event)"></pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-container class="bg-white" *ngSwitchCase="DataState.ERROR_STATE">
          <div class="col-md-12 text-center">
            <div class="text-danger">{{pret.error}}</div>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>
</div>


<ng-template #cotisation let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>Nouvelle Cotisation</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">
        <div class="position-relative form-group">
          Procéder à la cotisation de tous les membres de la réunion
        </div>
        <button class="mt-1 btn btn-primary float-right"
                [disabled]="isCotise$ | async" (click)="createCotisation()">
          <i *ngIf="isCotise$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;
          <span *ngIf="isCotise$ | async">Cotisation ...</span>
          <span
            *ngIf="!(isCotise$ | async)">Cotiser</span>
        </button>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #amande let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>{{titleAmande}}</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">
        <form [formGroup]="amandeForm">

          <div class="position-relative form-group">
            <label for="montant" class="">Montant</label>
            <input type="text" id="montant" formControlName="montant"ngModel="{{selectedAmande.montant}}"  class="form-control"
                   placeholder="montant de la transaction">
          </div>
          <div
            *ngIf="amandeForm.controls['montant'].invalid && (amandeForm.controls['montant'].dirty || amandeForm.controls['montant'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="amandeForm.controls['montant'].errors?.['required']" class="ml-3">
              le montant de la transaction est requis.
            </div>
            <div *ngIf="amandeForm.controls['montant'].errors?.['pattern']" class="ml-3">
              entrez un montant valide
            </div>
            <div *ngIf="amandeForm.controls['montant'].errors?.['min']" class="ml-3">
              le montat doit être supérieur à 0
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="motif" class="">Motif</label>
            <input type="text" id="motif" formControlName="motif" ngModel="{{selectedAmande.motif}}" class="form-control"
                   placeholder="motif de la transaction">
          </div>
          <div
            *ngIf="amandeForm.controls['motif'].invalid && (amandeForm.controls['motif'].dirty || amandeForm.controls['motif'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="amandeForm.controls['motif'].errors?.['required']" class="ml-3">
              le montif de la transaction est requis.
            </div>
            <div *ngIf="amandeForm.controls['motif'].errors?.['minLength']" class="ml-3">
              au moins 10 caractères requis
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="tb" class="">Membre</label>
            <select name="select" id="tb" class="form-control" formControlName="idUser" ngModel="{{userAmande}}">
              <option value="" selected hidden>Sélectionner un membre</option>
              <option *ngFor="let user of users.content" [value]="user.userId">{{user.firstName | titlecase}} {{user.lastName | titlecase}}</option>
            </select>
          </div>
          <div
            *ngIf="amandeForm.controls['idUser'].invalid && (amandeForm.controls['idUser'].dirty || amandeForm.controls['idUser'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="amandeForm.controls['idUser'].errors?.['required']" class="ml-3">
              le choix du membre est obligatoire.
            </div>
          </div>


          <div class="position-relative form-group">
            <div class="custom-checkbox custom-control">
              <input type="checkbox" id="exampleCustomCheckbox"  class="custom-control-input" formControlName="pay" ngModel="{{pay}}">
              <label class="custom-control-label" for="exampleCustomCheckbox">Le membre a payé l'amande</label>
            </div>
          </div>

          <button class="mt-1 btn btn-secondary float-right ml-3" (click)="annuler()"><i class="pe-7s-back"></i> Annuler
          </button>
<!--          <button class="mt-1 btn btn-primary float-right"-->
<!--                  [disabled]="amandeForm.invalid || (isLoading$ | async)" (click)="saveAmande()">-->
<!--            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;-->
<!--            <span *ngIf="isLoading$ | async">Enregistrement ...</span>-->
<!--            <span-->
<!--              *ngIf="!(isLoading$ | async)">Enregistrer</span>-->
<!--          </button>-->
          <button class="mt-1 btn btn-primary float-right"
                  [disabled]="amandeForm.invalid || (isLoading$ | async)"
                  (click)="titleAmande != 'Modifier Amande' ? saveAmande() : updateAmande()">
            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;
            <span
              *ngIf="isLoading$ | async">{{titleAmande != 'Modifier Amande' ? 'Enregistrement ...' : 'Modification ...'}}</span>
            <span
              *ngIf="!(isLoading$ | async)">{{titleAmande != 'Modifier Amande' ? 'Enregistrer' : 'Modifier'}}</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #prets let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>{{titlePret}}</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">
        <form [formGroup]="pretForm">

          <div class="position-relative form-group">
            <label for="montant" class="">Montant à prêter</label>
            <input type="text" id="montant" formControlName="montant" class="form-control" ngModel="{{selectedPret.montant_prete}}"
                   placeholder="montant de la transaction">
          </div>
          <div
            *ngIf="pretForm.controls['montant'].invalid && (pretForm.controls['montant'].dirty || pretForm.controls['montant'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="pretForm.controls['montant'].errors?.['required']" class="ml-3">
              le montant de la transaction est requis.
            </div>
            <div *ngIf="pretForm.controls['montant'].errors?.['pattern']" class="ml-3">
              entrez un montant valide
            </div>
            <div *ngIf="pretForm.controls['montant'].errors?.['min']" class="ml-3">
              le montat doit être supérieur à 0
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="tb" class="">Membre</label>
            <select name="select" id="tb" class="form-control" formControlName="idUser" ngModel="{{userPret}}">
              <option value="" selected hidden>Sélectionner un membre</option>
              <option *ngFor="let user of users?.content" [value]="user.userId">{{user.firstName | titlecase}} {{user.lastName | titlecase}}</option>
            </select>
          </div>
          <div
            *ngIf="pretForm.controls['idUser'].invalid && (pretForm.controls['idUser'].dirty || pretForm.controls['idUser'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="pretForm.controls['idUser'].errors?.['required']" class="ml-3">
              le choix du membre est obligatoire.
            </div>
          </div>

          <button class="mt-1 btn btn-secondary float-right ml-3" (click)="annuler()"><i class="pe-7s-back"></i> Annuler
          </button>
<!--          <button class="mt-1 btn btn-primary float-right"-->
<!--                  [disabled]="pretForm.invalid || (isLoading$ | async)" (click)="savePret()">-->
<!--            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;-->
<!--            <span *ngIf="isLoading$ | async">Enregistrement ...</span>-->
<!--            <span-->
<!--              *ngIf="!(isLoading$ | async)">Enregistrer</span>-->
<!--          </button>-->
          <button class="mt-1 btn btn-primary float-right"
                  [disabled]="pretForm.invalid || (isLoading$ | async)"
                  (click)="titlePret != 'Modifier Prêt' ? savePret() : updatePret()">
            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;
            <span
              *ngIf="isLoading$ | async">{{titlePret != 'Modifier Prêt' ? 'Enregistrement ...' : 'Modification ...'}}</span>
            <span
              *ngIf="!(isLoading$ | async)">{{titlePret != 'Modifier Prêt' ? 'Enregistrer' : 'Modifier'}}</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #rembourserpret let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>Rembourser Prêt de {{montantPrete}} €</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">
        <form [formGroup]="pretForm">

          <div class="position-relative form-group">
            <label for="montant" class="">Montant à rembourser</label>
            <input type="text" id="montant" formControlName="montant" class="form-control"
                   placeholder="montant de la transaction">
          </div>
          <div
            *ngIf="pretForm.controls['montant'].invalid && (pretForm.controls['montant'].dirty || pretForm.controls['montant'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="pretForm.controls['montant'].errors?.['required']" class="ml-3">
              le montant de la transaction est requis.
            </div>
            <div *ngIf="pretForm.controls['montant'].errors?.['pattern']" class="ml-3">
              entrez un montant valide
            </div>
            <div *ngIf="pretForm.controls['montant'].errors?.['min']" class="ml-3">
              le montat doit être supérieur à 0
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="tb" class="">Membre</label>
            <select name="select" id="tb" class="form-control" formControlName="idUser">
              <option value="" selected hidden>Sélectionner un membre</option>
              <option *ngFor="let user of users.content" [value]="user.userId">{{user.firstName | titlecase}} {{user.lastName | titlecase}}</option>
            </select>
          </div>
          <div
            *ngIf="pretForm.controls['idUser'].invalid && (pretForm.controls['idUser'].dirty || pretForm.controls['idUser'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="pretForm.controls['idUser'].errors?.['required']" class="ml-3">
              le choix du membre est obligatoire.
            </div>
          </div>

          <button class="mt-1 btn btn-secondary float-right ml-3" (click)="annuler()"><i class="pe-7s-back"></i> Annuler
          </button>
          <button class="mt-1 btn btn-primary float-right"
                  [disabled]="pretForm.invalid || (isLoading$ | async)" (click)="savePret()">
            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;
            <span *ngIf="isLoading$ | async">Enregistrement ...</span>
            <span
              *ngIf="!(isLoading$ | async)">Enregistrer</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #projet let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>{{titleProjet}}</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">
        <form [formGroup]="mangwaForm">

<!--          <div class="position-relative form-group">-->
<!--            <label for="date1" class="">Date</label>-->
<!--            <input type="date" id="date1" formControlName="date" class="form-control"-->
<!--                   placeholder="date de la transaction">-->
<!--          </div>-->
<!--          <div-->
<!--            *ngIf="mangwaForm.controls['date'].invalid && (mangwaForm.controls['date'].dirty || mangwaForm.controls['date'].touched)"-->
<!--            class="mb-2" style="color: #f65656; font-style: italic;">-->
<!--            <div *ngIf="mangwaForm.controls['date'].errors?.['required']" class="ml-3">-->
<!--              la date de la transaction est requise.-->
<!--            </div>-->
<!--            <div *ngIf="mangwaForm.controls['date'].errors?.['pattern']" class="ml-3">-->
<!--              entrez une date valide-->
<!--            </div>-->
<!--          </div>-->

          <div class="position-relative form-group">
            <label for="montant" class="">Montant</label>
            <input type="text" id="montant" formControlName="montant" class="form-control" ngModel="{{selectedProjet.montant}}"
                   placeholder="montant de la transaction">
          </div>
          <div
            *ngIf="mangwaForm.controls['montant'].invalid && (mangwaForm.controls['montant'].dirty || mangwaForm.controls['montant'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="mangwaForm.controls['montant'].errors?.['required']" class="ml-3">
              le montant de la transaction est requis.
            </div>
            <div *ngIf="mangwaForm.controls['montant'].errors?.['pattern']" class="ml-3">
              entrez un montant valide
            </div>
            <div *ngIf="mangwaForm.controls['montant'].errors?.['min']" class="ml-3">
              le montat doit être supérieur à 0
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="motif" class="">Motif</label>
            <input type="text" id="motif" formControlName="motif" class="form-control" ngModel="{{selectedProjet.motif}}"
                   placeholder="motif de la transaction">
          </div>
          <div
            *ngIf="mangwaForm.controls['motif'].invalid && (mangwaForm.controls['motif'].dirty || mangwaForm.controls['motif'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="mangwaForm.controls['motif'].errors?.['required']" class="ml-3">
              le montif de la transaction est requis.
            </div>
            <div *ngIf="mangwaForm.controls['motif'].errors?.['minLength']" class="ml-3">
              au moins 10 caractères requis
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="tb" class="">Membre</label>
            <select name="select" id="tb" class="form-control" formControlName="user"  ngModel="{{userProjet}}">
              <option value="" selected hidden>Sélectionner un membre</option>
              <option *ngFor="let user of users.content" [value]="user.userId">{{user.firstName | titlecase}} {{user.lastName | titlecase}}</option>
            </select>
          </div>
          <div
            *ngIf="mangwaForm.controls['user'].invalid && (mangwaForm.controls['user'].dirty || mangwaForm.controls['user'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="mangwaForm.controls['user'].errors?.['required']" class="ml-3">
              le choix du membre est obligatoire.
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="tb" class="">Transaction</label>
            <select name="select" id="tb" class="form-control" formControlName="transaction"  ngModel="{{transactionProjet}}">
              <option value="" selected hidden>Sélectionner une transaction</option>
              <option value="DEPOT">Ajout</option>
              <option value="PRET">Prêt</option>
              <option value="REMBOURSEMENT">Remboursement</option>
              <option value="RETRAIT">Retrait</option>
<!--              <option *ngFor="let user of users.content" [value]="user.userId">{{user.firstName}}</option>-->
            </select>
          </div>
          <div
            *ngIf="mangwaForm.controls['user'].invalid && (mangwaForm.controls['user'].dirty || mangwaForm.controls['user'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="mangwaForm.controls['user'].errors?.['required']" class="ml-3">
              le choix du membre est obligatoire.
            </div>
          </div>
          <button class="mt-1 btn btn-secondary float-right ml-3" (click)="annuler()"><i class="pe-7s-back"></i> Annuler
          </button>
<!--          <button class="mt-1 btn btn-primary float-right"-->
<!--                  [disabled]="mangwaForm.invalid || (isLoading$ | async)" (click)="saveProjet()">-->
<!--            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;-->
<!--            <span *ngIf="isLoading$ | async">Enregistrement ...</span>-->
<!--            <span-->
<!--              *ngIf="!(isLoading$ | async)">Enregistrer</span>-->
<!--          </button>-->
          <button class="mt-1 btn btn-primary float-right"
                  [disabled]="mangwaForm.invalid || (isLoading$ | async)"
                  (click)="titleProjet != 'Modifier Contribution' ? saveProjet() : updateProjet()">
            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;
            <span
              *ngIf="isLoading$ | async">{{titleProjet != 'Modifier Contribution' ? 'Enregistrement ...' : 'Modification ...'}}</span>
            <span
              *ngIf="!(isLoading$ | async)">{{titleProjet != 'Modifier Contribution' ? 'Enregistrer' : 'Modifier'}}</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #disciplines let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>{{titleSanction}}</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">
        <form [formGroup]="disciplineForm">
          <div class="position-relative form-group">
            <label for="tb" class="">Membre</label>
            <select name="select" id="tb" class="form-control" formControlName="idUser" ngModel="{{userSanction}}">
              <option value="" selected hidden>Sélectionner un membre</option>
              <option *ngFor="let user of users.content" [value]="user.userId">{{user.firstName | titlecase}} &nbsp; {{user.lastName | titlecase}}</option>
            </select>
          </div>
          <div
            *ngIf="disciplineForm.controls['idUser'].invalid && (disciplineForm.controls['idUser'].dirty || disciplineForm.controls['idUser'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="disciplineForm.controls['idUser'].errors?.['required']" class="ml-3">
              le choix du membre est obligatoire.
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="tb" class="">Sanction</label>
            <select name="select" id="tb" class="form-control" formControlName="sanction" ngModel="{{sanction | titlecase}}">
              <option value="" selected hidden>Sélectionner une sanction</option>
              <option value="Absence">Absence</option>
              <option value="Retard">Retard</option>
              <option value="Trouble">Trouble</option>
            </select>
          </div>
          <div
            *ngIf="disciplineForm.controls['sanction'].invalid && (disciplineForm.controls['sanction'].dirty || disciplineForm.controls['sanction'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="disciplineForm.controls['sanction'].errors?.['required']" class="ml-3">
              le choix de la sanction est obligatoire.
            </div>
          </div>

          <button class="mt-1 btn btn-secondary float-right ml-3" (click)="annuler()"><i class="pe-7s-back"></i> Annuler
          </button>
<!--          <button class="mt-1 btn btn-primary float-right"-->
<!--                  [disabled]="disciplineForm.invalid || (isLoading$ | async)" (click)="saveDiscipline()">-->
<!--            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;-->
<!--            <span *ngIf="isLoading$ | async">Enregistrement ...</span>-->
<!--            <span-->
<!--              *ngIf="!(isLoading$ | async)">Enregistrer</span>-->
<!--          </button>-->
          <button class="mt-1 btn btn-primary float-right"
                  [disabled]="disciplineForm.invalid || (isLoading$ | async)"
                  (click)="titleSanction != 'Modifier Sanction' ? saveDiscipline() : updateDiscipline()">
            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;
            <span
              *ngIf="isLoading$ | async">{{titleSanction != 'Modifier Sanction' ? 'Enregistrement ...' : 'Modification ...'}}</span>
            <span
              *ngIf="!(isLoading$ | async)">{{titleSanction != 'Modifier Sanction' ? 'Enregistrer' : 'Modifier'}}</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #benef let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>{{titleBenef}}</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">
        <form [formGroup]="benefForm">
          <div class="position-relative form-group">
            <label for="montant" class="">Montant</label>
            <input type="text" id="montant" ngModel="{{selectedBeneficiaire.montant}}" formControlName="montant"
                   class="form-control" placeholder="montant de la transaction">
          </div>
          <div
            *ngIf="benefForm.controls['montant'].invalid && (benefForm.controls['montant'].dirty || benefForm.controls['montant'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="benefForm.controls['montant'].errors?.['required']" class="ml-3">
              le montant de la transaction est requis.
            </div>
            <div *ngIf="benefForm.controls['montant'].errors?.['pattern']" class="ml-3">
              entrez un montant valide
            </div>
            <div *ngIf="benefForm.controls['montant'].errors?.['min']" class="ml-3">
              le montat doit être supérieur à 0
            </div>
          </div>

          <div class="position-relative form-group">
            <label for="tb" class="">Membre</label>
            <select name="select" id="tb" class="form-control" formControlName="idUser" ngModel="{{user}}">
              <option value="" selected hidden>Sélectionner un membre</option>
              <option *ngFor="let user of users.content" [value]="user.userId">{{user.firstName | titlecase}} {{user.lastName | titlecase}}</option>
            </select>
          </div>
          <div
            *ngIf="benefForm.controls['idUser'].invalid && (benefForm.controls['idUser'].dirty || benefForm.controls['idUser'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="benefForm.controls['idUser'].errors?.['required']" class="ml-3">
              le choix du membre est obligatoire.
            </div>
          </div>
          <button class="mt-1 btn btn-secondary float-right ml-3" (click)="annuler()"><i class="pe-7s-back"></i> Annuler
          </button>
          <button class="mt-1 btn btn-primary float-right"
                  [disabled]="benefForm.invalid || (isLoading$ | async)"
                  (click)="titleBenef != 'Modifier Bénéficiaire' ? saveBenef() : updateBenef()">
            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;
            <span
              *ngIf="isLoading$ | async">{{titleBenef != 'Modifier Bénéficiaire' ? 'Enregistrement ...' : 'Modification ...'}}</span>
            <span
              *ngIf="!(isLoading$ | async)">{{titleBenef != 'Modifier Bénéficiaire' ? 'Enregistrer' : 'Modifier'}}</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #delbenef let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>supprimer</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">

          <button class="mt-1 btn btn-secondary float-right ml-3" (click)="annuler()"><i class="pe-7s-back"></i> Annuler
          </button>
          <button class="mt-1 btn btn-primary float-right"

                  (click)="deleteBenef(selectedPret.idPret)">

            <span >supprimer</span>
          </button>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #rembp let-modal>
  <div class="modal-header">
    <h6 class="modal-title timeline-title" id="modal-basic-title"><b>{{titlePret}} de {{montantPrete}} €</b></h6>
    <div class="close vertical-timeline-element-content bounce-in" (click)=" modal.close('save click')">
      <p><i class="fa fa-times"></i></p>
    </div>
  </div>
  <div class="modal-body">
    <div class="">
      <div class="">
        <form [formGroup]="pretRembForm">
          <div class="position-relative form-group">
            <label for="montant" class="">Montant du remboursement</label>
            <input type="text" id="montant" formControlName="montant" class="form-control" placeholder="montant de la transaction">
          </div>
          <div
            *ngIf="pretRembForm.controls['montant'].invalid && (pretRembForm.controls['montant'].dirty || pretRembForm.controls['montant'].touched)"
            class="mb-2" style="color: #f65656; font-style: italic;">
            <div *ngIf="pretRembForm.controls['montant'].errors?.['required']" class="ml-3">
              le montant de la transaction est requis.
            </div>
            <div *ngIf="pretRembForm.controls['montant'].errors?.['pattern']" class="ml-3">
              entrez un montant valide
            </div>
            <div *ngIf="pretRembForm.controls['montant'].errors?.['min']" class="ml-3">
              le montat doit être supérieur à 0
            </div>
          </div>

<!--          <div class="position-relative form-group">-->
<!--            <div class="custom-checkbox custom-control">-->
<!--              <input type="checkbox" id="exampleCustomCheckbox"  class="custom-control-input" formControlName="type" >-->
<!--              <label class="custom-control-label" for="exampleCustomCheckbox">Le remboursement n'est pas total</label>-->
<!--            </div>-->
<!--          </div>-->
<!--          <div-->
<!--            *ngIf="pretRembForm.controls['type'].invalid && (pretRembForm.controls['type'].dirty || pretRembForm.controls['type'].touched)"-->
<!--            class="mb-2" style="color: #f65656; font-style: italic;">-->
<!--            <div *ngIf="pretRembForm.controls['type'].errors?.['type']" class="ml-3">-->
<!--              faites un choix.-->
<!--            </div>-->
<!--          </div>-->

          <button class="mt-1 btn btn-secondary float-right ml-3" (click)="annuler()"><i class="pe-7s-back"></i> Annuler
          </button>
          <button class="mt-1 btn btn-primary float-right"
                  [disabled]="pretRembForm.invalid || (isLoading$ | async)" (click)="rembourser();">
            <i *ngIf="isLoading$ | async" class="fa fa-spinner fa-spin"></i>&nbsp;
            <span *ngIf="isLoading$ | async">Enregistrement ...</span>
            <span
              *ngIf="!(isLoading$ | async)">Enregistrer</span>
          </button>
        </form>
      </div>
    </div>
  </div>
</ng-template>

